!function(e){function t(n){if(i[n])return i[n].exports;var o=i[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,t),o.l=!0,o.exports}var i={};t.m=e,t.c=i,t.i=function(e){return e},t.d=function(e,i,n){t.o(e,i)||Object.defineProperty(e,i,{configurable:!1,enumerable:!0,get:n})},t.n=function(e){var i=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(i,"a",i),i},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=9)}([function(e,t,i){"use strict";e.exports={forElement:function(e,t,i){e&&e.addEventListener(t,i)}}},function(e,t,i){"use strict";e.exports={data:[{placeholder:"email",regex:"^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$",error:"Must be a valid email"},{placeholder:"password",regex:"^(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9]).*$",error:"Must have upper, lower case & number"}]}},function(e,t,i){"use strict";var n=i(1),o=function(e){return e&&e.__esModule?e:{default:e}}(n);e.exports={init:function(e){e.map(function(e,t){e&&(e.placeholder=o.default.data[t].placeholder)},this)},toggle:function(e){e.map(function(e,t){e.nextSibling;event.target!=e?e.placeholder=o.default.data[t].placeholder:e.placeholder=""},this)}}},function(e,t,i){"use strict";var n=i(1),o=function(e){return e&&e.__esModule?e:{default:e}}(n);e.exports={liveValidation:function(e){e.map(function(e,t){var i=e.nextSibling;if(""===e.value)return void event.preventDefault();e.value.match(o.default.data[t].regex)?(e.parentNode.classList.add("flex"),this.failEmail?i.textContent="":i.textContent="âˆš",i.classList.remove("input-fail"),i.classList.add("input-success")):(event.preventDefault(),e.parentNode.classList.remove("flex"),i.textContent=o.default.data[t].error,i.classList.remove("input-success"),i.classList.add("input-fail"))},this)}}},function(e,t,i){"use strict";i(5),i(6),i(7),i(8)},function(e,t,i){"use strict";({init:function(){this.cacheDOM(),this.bindEvents()},cacheDOM:function(){this.deleteFlutterPost=document.querySelectorAll(".delete-flutter")},bindEvents:function(){for(var e=0;e<this.deleteFlutterPost.length;e++)this.deleteFlutterPost[e].addEventListener("click",this.deletePost.bind(this))},deletePost:function(e){e.target.closest(".post").remove()}}).init()},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}var o=i(0),l=n(o),s=i(2),r=n(s),a=i(3),c=n(a);({init:function(){this.cacheDOM(),this.bindEvents(),r.default.init(this.requiredSignIn)},cacheDOM:function(){this.closeBtn=document.querySelector(".close-btn"),this.formSignIn=document.querySelector(".form-sign-in"),this.failEmail=document.querySelector(".input-fail-email");var e=document.querySelector(".email-sign-in"),t=document.querySelector(".password-sign-in");this.requiredSignIn=[e,t]},bindEvents:function(){l.default.forElement(this.formSignIn,"click",this.liveValidation.bind(this)),l.default.forElement(this.formSignIn,"click",this.placeholdersToggle.bind(this))},liveValidation:function(){c.default.liveValidation(this.requiredSignIn)},placeholdersToggle:function(){r.default.toggle(this.requiredSignIn)}}).init()},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}var o=i(0),l=n(o),s=i(2),r=n(s),a=i(3),c=n(a);({init:function(){this.cacheDOM(),this.bindEvents(),r.default.init(this.requiredSignUp)},cacheDOM:function(){this.closeBtn=document.querySelector(".close-btn"),this.formSignUp=document.querySelector(".form-sign-up"),this.failEmail=document.querySelector(".input-fail-email");var e=document.querySelector(".email-sign-up"),t=document.querySelector(".password-sign-up");this.requiredSignUp=[e,t]},bindEvents:function(){l.default.forElement(this.formSignUp,"click",this.liveValidation.bind(this)),l.default.forElement(this.formSignUp,"click",this.placeholdersToggle.bind(this))},liveValidation:function(){c.default.liveValidation(this.requiredSignUp)},placeholdersToggle:function(){r.default.toggle(this.requiredSignUp)}}).init()},function(e,t,i){"use strict";var n=i(0),o=function(e){return e&&e.__esModule?e:{default:e}}(n);({init:function(){this.cacheDOM(),this.bindEvents()},cacheDOM:function(){this.modal=document.querySelector(".modal"),this.showModal=document.querySelector(".show-modal"),this.closeBtn=document.querySelector(".close-btn"),this.fadeIn=document.querySelector(".fade-in")},bindEvents:function(){o.default.forElement(this.showModal,"click",this.handleToggleModal.bind(this)),o.default.forElement(this.closeBtn,"click",this.handleToggleModal.bind(this))},consoleLog:function(){console.log("hi")},handleToggleModal:function(){this.modal.classList.contains("hidden")?(this.modal.classList.remove("hidden"),this.modal.classList.add("fade-in")):(this.modal.classList.remove("fade-in"),this.modal.classList.add("hidden"))}}).init()},function(e,t,i){e.exports=i(4)}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vYnVuZGxlLmpzIiwid2VicGFjazovLy93ZWJwYWNrL2Jvb3RzdHJhcCBjM2EwNTVmOWNkOGM0OTgxYmJjZiIsIndlYnBhY2s6Ly8vLi9qcy9oYW5kbGVycy90ZXN0LWZvci1lbGVtZW50LmpzIiwid2VicGFjazovLy8uL2pzL2Zvcm0tZGF0YS5qcyIsIndlYnBhY2s6Ly8vLi9qcy9oYW5kbGVycy9wbGFjZWhvbGRlcnMuanMiLCJ3ZWJwYWNrOi8vLy4vanMvaGFuZGxlcnMvdmFsaWRhdGlvbi5qcyIsIndlYnBhY2s6Ly8vLi9qcy9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi9qcy9kZWxldGUtcG9zdC5qcyIsIndlYnBhY2s6Ly8vLi9qcy9zaWduLWluLmpzIiwid2VicGFjazovLy8uL2pzL3NpZ24tdXAuanMiLCJ3ZWJwYWNrOi8vLy4vanMvdG9nZ2xlLW1vZGFsLmpzIl0sIm5hbWVzIjpbIm1vZHVsZXMiLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwibW9kdWxlSWQiLCJpbnN0YWxsZWRNb2R1bGVzIiwiZXhwb3J0cyIsIm1vZHVsZSIsImkiLCJsIiwiY2FsbCIsIm0iLCJjIiwidmFsdWUiLCJkIiwibmFtZSIsImdldHRlciIsIm8iLCJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImNvbmZpZ3VyYWJsZSIsImVudW1lcmFibGUiLCJnZXQiLCJuIiwiX19lc01vZHVsZSIsIm9iamVjdCIsInByb3BlcnR5IiwicHJvdG90eXBlIiwiaGFzT3duUHJvcGVydHkiLCJwIiwicyIsImZvckVsZW1lbnQiLCJlbCIsImV2ZW50VHlwZSIsIm1ldGhvZCIsImFkZEV2ZW50TGlzdGVuZXIiLCJkYXRhIiwicGxhY2Vob2xkZXIiLCJyZWdleCIsImVycm9yIiwiX2Zvcm1EYXRhIiwiX2Zvcm1EYXRhMiIsIm9iaiIsImRlZmF1bHQiLCJpbml0IiwicmVxdWlyZWRJbnB1dHMiLCJtYXAiLCJpbnB1dCIsImluZGV4IiwidGhpcyIsInRvZ2dsZSIsIm5leHRTaWJsaW5nIiwiZXZlbnQiLCJ0YXJnZXQiLCJsaXZlVmFsaWRhdGlvbiIsInZhbGlkYXRpb25NZXNzYWdlIiwicHJldmVudERlZmF1bHQiLCJtYXRjaCIsInBhcmVudE5vZGUiLCJjbGFzc0xpc3QiLCJhZGQiLCJmYWlsRW1haWwiLCJ0ZXh0Q29udGVudCIsInJlbW92ZSIsImNhY2hlRE9NIiwiYmluZEV2ZW50cyIsImRlbGV0ZUZsdXR0ZXJQb3N0IiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yQWxsIiwibGVuZ3RoIiwiZGVsZXRlUG9zdCIsImJpbmQiLCJjbG9zZXN0IiwiX2ludGVyb3BSZXF1aXJlRGVmYXVsdCIsIl90ZXN0Rm9yRWxlbWVudCIsIl90ZXN0Rm9yRWxlbWVudDIiLCJfcGxhY2Vob2xkZXJzIiwiX3BsYWNlaG9sZGVyczIiLCJfdmFsaWRhdGlvbiIsIl92YWxpZGF0aW9uMiIsInJlcXVpcmVkU2lnbkluIiwiY2xvc2VCdG4iLCJxdWVyeVNlbGVjdG9yIiwiZm9ybVNpZ25JbiIsImVtYWlsU2lnbkluIiwicGFzc1NpZ25JbiIsInBsYWNlaG9sZGVyc1RvZ2dsZSIsInJlcXVpcmVkU2lnblVwIiwiZm9ybVNpZ25VcCIsImVtYWlsU2lnblVwIiwicGFzc1NpZ25VcCIsIm1vZGFsIiwic2hvd01vZGFsIiwiZmFkZUluIiwiaGFuZGxlVG9nZ2xlTW9kYWwiLCJjb25zb2xlTG9nIiwiY29uc29sZSIsImxvZyIsImNvbnRhaW5zIl0sIm1hcHBpbmdzIjoiQ0FBUyxTQUFVQSxHQ0luQixRQUFBQyxHQUFBQyxHQUdBLEdBQUFDLEVBQUFELEdBQ0EsTUFBQUMsR0FBQUQsR0FBQUUsT0FHQSxJQUFBQyxHQUFBRixFQUFBRCxJQUNBSSxFQUFBSixFQUNBSyxHQUFBLEVBQ0FILFdBVUEsT0FOQUosR0FBQUUsR0FBQU0sS0FBQUgsRUFBQUQsUUFBQUMsSUFBQUQsUUFBQUgsR0FHQUksRUFBQUUsR0FBQSxFQUdBRixFQUFBRCxRQXZCQSxHQUFBRCxLQTRCQUYsR0FBQVEsRUFBQVQsRUFHQUMsRUFBQVMsRUFB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VXJWNUM5QixLQUFNLFdBQ0pLLEtBQUtlLFdBQ0xmLEtBQUtnQixjQUVQRCxTQUFVLFdBQ1JmLEtBQUswQyxNQUFZeEIsU0FBU2UsY0FBYyxVQUN4Q2pDLEtBQUsyQyxVQUFZekIsU0FBU2UsY0FBYyxlQUN4Q2pDLEtBQUtnQyxTQUFZZCxTQUFTZSxjQUFjLGNBQ3hDakMsS0FBSzRDLE9BQVkxQixTQUFTZSxjQUFjLGFBRTFDakIsV0FBWSxXQUVWVSxFQUFBaEMsUUFBS1osV0FBV2tCLEtBQUsyQyxVQUFXLFFBQVMzQyxLQUFLNkMsa0JBQWtCdkIsS0FBS3RCLE9BQ3JFMEIsRUFBQWhDLFFBQUtaLFdBQVdrQixLQUFLZ0MsU0FBVSxRQUFTaEMsS0FBSzZDLGtCQUFrQnZCLEtBQUt0QixRQUV0RThDLFdBQVksV0FDVkMsUUFBUUMsSUFBSSxPQUVkSCxrQkFBbUIsV0FDYjdDLEtBQUswQyxNQUFNaEMsVUFBVXVDLFNBQVMsV0FDaENqRCxLQUFLMEMsTUFBTWhDLFVBQVVJLE9BQU8sVUFDNUJkLEtBQUswQyxNQUFNaEMsVUFBVUMsSUFBSSxhQUV6QlgsS0FBSzBDLE1BQU1oQyxVQUFVSSxPQUFPLFdBQzVCZCxLQUFLMEMsTUFBTWhDLFVBQVVDLElBQUksY0FJbkJoQixRVmlXTixTQUFVckMsRUFBUUQsRUFBU0gsR0FFakNJLEVBQU9ELFFBQVVILEVBQW9CIiwiZmlsZSI6ImJ1bmRsZS5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qKioqKiovIChmdW5jdGlvbihtb2R1bGVzKSB7IC8vIHdlYnBhY2tCb290c3RyYXBcbi8qKioqKiovIFx0Ly8gVGhlIG1vZHVsZSBjYWNoZVxuLyoqKioqKi8gXHR2YXIgaW5zdGFsbGVkTW9kdWxlcyA9IHt9O1xuLyoqKioqKi9cbi8qKioqKiovIFx0Ly8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbi8qKioqKiovIFx0ZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuLyoqKioqKi9cbi8qKioqKiovIFx0XHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcbi8qKioqKiovIFx0XHRpZihpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSkge1xuLyoqKioqKi8gXHRcdFx0cmV0dXJuIGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdLmV4cG9ydHM7XG4vKioqKioqLyBcdFx0fVxuLyoqKioqKi8gXHRcdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG4vKioqKioqLyBcdFx0dmFyIG1vZHVsZSA9IGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdID0ge1xuLyoqKioqKi8gXHRcdFx0aTogbW9kdWxlSWQsXG4vKioqKioqLyBcdFx0XHRsOiBmYWxzZSxcbi8qKioqKiovIFx0XHRcdGV4cG9ydHM6IHt9XG4vKioqKioqLyBcdFx0fTtcbi8qKioqKiovXG4vKioqKioqLyBcdFx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG4vKioqKioqLyBcdFx0bW9kdWxlc1ttb2R1bGVJZF0uY2FsbChtb2R1bGUuZXhwb3J0cywgbW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG4vKioqKioqL1xuLyoqKioqKi8gXHRcdC8vIEZsYWcgdGhlIG1vZHVsZSBhcyBsb2FkZWRcbi8qKioqKiovIFx0XHRtb2R1bGUubCA9IHRydWU7XG4vKioqKioqL1xuLyoqKioqKi8gXHRcdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG4vKioqKioqLyBcdFx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xuLyoqKioqKi8gXHR9XG4vKioqKioqL1xuLyoqKioqKi9cbi8qKioqKiovIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGVzIG9iamVjdCAoX193ZWJwYWNrX21vZHVsZXNfXylcbi8qKioqKiovIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5tID0gbW9kdWxlcztcbi8qKioqKiovXG4vKioqKioqLyBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlIGNhY2hlXG4vKioqKioqLyBcdF9fd2VicGFja19yZXF1aXJlX18uYyA9IGluc3RhbGxlZE1vZHVsZXM7XG4vKioqKioqL1xuLyoqKioqKi8gXHQvLyBpZGVudGl0eSBmdW5jdGlvbiBmb3IgY2FsbGluZyBoYXJtb255IGltcG9ydHMgd2l0aCB0aGUgY29ycmVjdCBjb250ZXh0XG4vKioqKioqLyBcdF9fd2VicGFja19yZXF1aXJlX18uaSA9IGZ1bmN0aW9uKHZhbHVlKSB7IHJldHVybiB2YWx1ZTsgfTtcbi8qKioqKiovXG4vKioqKioqLyBcdC8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb24gZm9yIGhhcm1vbnkgZXhwb3J0c1xuLyoqKioqKi8gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQgPSBmdW5jdGlvbihleHBvcnRzLCBuYW1lLCBnZXR0ZXIpIHtcbi8qKioqKiovIFx0XHRpZighX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIG5hbWUpKSB7XG4vKioqKioqLyBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgbmFtZSwge1xuLyoqKioqKi8gXHRcdFx0XHRjb25maWd1cmFibGU6IGZhbHNlLFxuLyoqKioqKi8gXHRcdFx0XHRlbnVtZXJhYmxlOiB0cnVlLFxuLyoqKioqKi8gXHRcdFx0XHRnZXQ6IGdldHRlclxuLyoqKioqKi8gXHRcdFx0fSk7XG4vKioqKioqLyBcdFx0fVxuLyoqKioqKi8gXHR9O1xuLyoqKioqKi9cbi8qKioqKiovIFx0Ly8gZ2V0RGVmYXVsdEV4cG9ydCBmdW5jdGlvbiBmb3IgY29tcGF0aWJpbGl0eSB3aXRoIG5vbi1oYXJtb255IG1vZHVsZXNcbi8qKioqKiovIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5uID0gZnVuY3Rpb24obW9kdWxlKSB7XG4vKioqKioqLyBcdFx0dmFyIGdldHRlciA9IG1vZHVsZSAmJiBtb2R1bGUuX19lc01vZHVsZSA/XG4vKioqKioqLyBcdFx0XHRmdW5jdGlvbiBnZXREZWZhdWx0KCkgeyByZXR1cm4gbW9kdWxlWydkZWZhdWx0J107IH0gOlxuLyoqKioqKi8gXHRcdFx0ZnVuY3Rpb24gZ2V0TW9kdWxlRXhwb3J0cygpIHsgcmV0dXJuIG1vZHVsZTsgfTtcbi8qKioqKiovIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQoZ2V0dGVyLCAnYScsIGdldHRlcik7XG4vKioqKioqLyBcdFx0cmV0dXJuIGdldHRlcjtcbi8qKioqKiovIFx0fTtcbi8qKioqKiovXG4vKioqKioqLyBcdC8vIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbFxuLyoqKioqKi8gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSBmdW5jdGlvbihvYmplY3QsIHByb3BlcnR5KSB7IHJldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqZWN0LCBwcm9wZXJ0eSk7IH07XG4vKioqKioqL1xuLyoqKioqKi8gXHQvLyBfX3dlYnBhY2tfcHVibGljX3BhdGhfX1xuLyoqKioqKi8gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnAgPSBcIlwiO1xuLyoqKioqKi9cbi8qKioqKiovIFx0Ly8gTG9hZCBlbnRyeSBtb2R1bGUgYW5kIHJldHVybiBleHBvcnRzXG4vKioqKioqLyBcdHJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fKF9fd2VicGFja19yZXF1aXJlX18ucyA9IDkpO1xuLyoqKioqKi8gfSlcbi8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKioqKioqLyAoW1xuLyogMCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcblxuXG4vKlxuICBEZWxldGUgcG9zdFxuKi9cblxudmFyIHRlc3QgPSBtb2R1bGUuZXhwb3J0cyA9IHtcbiAgLy8gdGVzdC5mb3JFbGVtZW50IGNyZWF0ZWQgdG8gYXZvaWQgZXJyb3JzIGlmIHRoZSBlbGVtZW50IGlzIG5vdCBwcmVzZW50IGluIHRoZSBET01cbiAgZm9yRWxlbWVudDogZnVuY3Rpb24gZm9yRWxlbWVudChlbCwgZXZlbnRUeXBlLCBtZXRob2QpIHtcbiAgICBpZiAoZWwpIHtcbiAgICAgIGVsLmFkZEV2ZW50TGlzdGVuZXIoZXZlbnRUeXBlLCBtZXRob2QpO1xuICAgIH1cbiAgfVxufTtcblxuLyoqKi8gfSksXG4vKiAxICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuXG5cbi8qXG4gIEZvcm0gZGF0YVxuKi9cblxudmFyIGZvcm1EYXRhID0gbW9kdWxlLmV4cG9ydHMgPSB7XG4gIGRhdGE6IFt7XG4gICAgcGxhY2Vob2xkZXI6ICdlbWFpbCcsXG4gICAgcmVnZXg6ICdeW2EtekEtWjAtOS4hIyQlJlxcJyorLz0/Xl9ge3x9fi1dK0BbYS16QS1aMC05XSg/OlthLXpBLVowLTktXXswLDYxfVthLXpBLVowLTldKT8oPzpcXC5bYS16QS1aMC05XSg/OlthLXpBLVowLTktXXswLDYxfVthLXpBLVowLTldKT8pKiQnLFxuICAgIGVycm9yOiAnTXVzdCBiZSBhIHZhbGlkIGVtYWlsJ1xuICB9LCB7XG4gICAgcGxhY2Vob2xkZXI6ICdwYXNzd29yZCcsXG4gICAgcmVnZXg6ICdeKD89LipbYS16XSkoPz0uKltBLVpdKSg/PS4qWzAtOV0pLiokJyxcbiAgICBlcnJvcjogJ011c3QgaGF2ZSB1cHBlciwgbG93ZXIgY2FzZSAmIG51bWJlcidcbiAgfV1cbn07XG5cbi8qKiovIH0pLFxuLyogMiAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcblxuXG52YXIgX2Zvcm1EYXRhID0gX193ZWJwYWNrX3JlcXVpcmVfXygxKTtcblxudmFyIF9mb3JtRGF0YTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9mb3JtRGF0YSk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbnZhciBwbGFjZWhvbGRlcnMgPSBtb2R1bGUuZXhwb3J0cyA9IHtcbiAgLy8gc2V0IGluaXRpYWwgaW5wdXQgcGxhY2Vob2xkZXIgdmFsdWVzXG4gIGluaXQ6IGZ1bmN0aW9uIGluaXQocmVxdWlyZWRJbnB1dHMpIHtcbiAgICByZXF1aXJlZElucHV0cy5tYXAoZnVuY3Rpb24gKGlucHV0LCBpbmRleCkge1xuICAgICAgaWYgKGlucHV0KSB7XG4gICAgICAgIGlucHV0LnBsYWNlaG9sZGVyID0gX2Zvcm1EYXRhMi5kZWZhdWx0LmRhdGFbaW5kZXhdLnBsYWNlaG9sZGVyO1xuICAgICAgfVxuICAgIH0sIHRoaXMpO1xuICB9LFxuICB0b2dnbGU6IGZ1bmN0aW9uIHRvZ2dsZShyZXF1aXJlZElucHV0cykge1xuICAgIHJlcXVpcmVkSW5wdXRzLm1hcChmdW5jdGlvbiAoaW5wdXQsIGluZGV4KSB7XG4gICAgICB2YXIgdmFsaWRhdGlvbk1lc3NhZ2UgPSBpbnB1dC5uZXh0U2libGluZztcbiAgICAgIGlmIChldmVudC50YXJnZXQgIT0gaW5wdXQpIHtcbiAgICAgICAgaW5wdXQucGxhY2Vob2xkZXIgPSBfZm9ybURhdGEyLmRlZmF1bHQuZGF0YVtpbmRleF0ucGxhY2Vob2xkZXI7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyB0b2dnbGUgaW5wdXQgcGxhY2Vob2xkZXIgdmFsdWUgdG8gYmxhbmsgb25seSB3aGVuIHVzZXIgc2VsZWN0cyBpbnB1dFxuICAgICAgICBpbnB1dC5wbGFjZWhvbGRlciA9ICcnO1xuICAgICAgfVxuICAgIH0sIHRoaXMpO1xuICB9XG59OyAvKlxuICAgICBTZXQgaW5pdGlhbCBwbGFjZWhvbGRlcnMgZm9yIGlucHV0c1xuICAgKi9cblxuLyoqKi8gfSksXG4vKiAzICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuXG5cbnZhciBfZm9ybURhdGEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEpO1xuXG52YXIgX2Zvcm1EYXRhMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2Zvcm1EYXRhKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxudmFyIHZhbGlkYXRpb24gPSBtb2R1bGUuZXhwb3J0cyA9IHtcbiAgbGl2ZVZhbGlkYXRpb246IGZ1bmN0aW9uIGxpdmVWYWxpZGF0aW9uKHJlcXVpcmVkSW5wdXRzKSB7XG4gICAgcmVxdWlyZWRJbnB1dHMubWFwKGZ1bmN0aW9uIChpbnB1dCwgaW5kZXgpIHtcbiAgICAgIHZhciB2YWxpZGF0aW9uTWVzc2FnZSA9IGlucHV0Lm5leHRTaWJsaW5nO1xuICAgICAgaWYgKGlucHV0LnZhbHVlID09PSAnJykge1xuICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9IGVsc2UgaWYgKGlucHV0LnZhbHVlLm1hdGNoKF9mb3JtRGF0YTIuZGVmYXVsdC5kYXRhW2luZGV4XS5yZWdleCkpIHtcbiAgICAgICAgaW5wdXQucGFyZW50Tm9kZS5jbGFzc0xpc3QuYWRkKCdmbGV4Jyk7XG4gICAgICAgIHRoaXMuZmFpbEVtYWlsID8gdmFsaWRhdGlvbk1lc3NhZ2UudGV4dENvbnRlbnQgPSAnJyA6IHZhbGlkYXRpb25NZXNzYWdlLnRleHRDb250ZW50ID0gJ+KImic7XG4gICAgICAgIHZhbGlkYXRpb25NZXNzYWdlLmNsYXNzTGlzdC5yZW1vdmUoJ2lucHV0LWZhaWwnKTtcbiAgICAgICAgdmFsaWRhdGlvbk1lc3NhZ2UuY2xhc3NMaXN0LmFkZCgnaW5wdXQtc3VjY2VzcycpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgaW5wdXQucGFyZW50Tm9kZS5jbGFzc0xpc3QucmVtb3ZlKCdmbGV4Jyk7XG4gICAgICAgIHZhbGlkYXRpb25NZXNzYWdlLnRleHRDb250ZW50ID0gX2Zvcm1EYXRhMi5kZWZhdWx0LmRhdGFbaW5kZXhdLmVycm9yO1xuICAgICAgICB2YWxpZGF0aW9uTWVzc2FnZS5jbGFzc0xpc3QucmVtb3ZlKCdpbnB1dC1zdWNjZXNzJyk7XG4gICAgICAgIHZhbGlkYXRpb25NZXNzYWdlLmNsYXNzTGlzdC5hZGQoJ2lucHV0LWZhaWwnKTtcbiAgICAgIH1cbiAgICB9LCB0aGlzKTtcbiAgfVxufTsgLypcbiAgICAgSGFuZGxlcnMgdXNlZCBpbiBtdWx0aXBsZSBvYmplY3RzXG4gICAqL1xuXG4vLyBmb3JtRGF0YSB1c2VkIHRvIG1hdGNoIHVzZXIgaW5wdXQgZm9yIHZhbGlkYXRpb25cblxuLyoqKi8gfSksXG4vKiA0ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuXG5cbl9fd2VicGFja19yZXF1aXJlX18oNSk7XG5cbl9fd2VicGFja19yZXF1aXJlX18oNik7XG5cbl9fd2VicGFja19yZXF1aXJlX18oNyk7XG5cbl9fd2VicGFja19yZXF1aXJlX18oOCk7XG5cbi8qKiovIH0pLFxuLyogNSAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcblxuXG4vKlxuICBEZWxldGUgcG9zdFxuKi9cblxudmFyIGRlbGV0ZVBvc3QgPSB7XG4gIGluaXQ6IGZ1bmN0aW9uIGluaXQoKSB7XG4gICAgdGhpcy5jYWNoZURPTSgpO1xuICAgIHRoaXMuYmluZEV2ZW50cygpO1xuICB9LFxuICBjYWNoZURPTTogZnVuY3Rpb24gY2FjaGVET00oKSB7XG4gICAgdGhpcy5kZWxldGVGbHV0dGVyUG9zdCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5kZWxldGUtZmx1dHRlcicpO1xuICB9LFxuICBiaW5kRXZlbnRzOiBmdW5jdGlvbiBiaW5kRXZlbnRzKCkge1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5kZWxldGVGbHV0dGVyUG9zdC5sZW5ndGg7IGkrKykge1xuICAgICAgdGhpcy5kZWxldGVGbHV0dGVyUG9zdFtpXS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuZGVsZXRlUG9zdC5iaW5kKHRoaXMpKTtcbiAgICB9XG4gIH0sXG4gIGRlbGV0ZVBvc3Q6IGZ1bmN0aW9uIGRlbGV0ZVBvc3QoZXZlbnQpIHtcbiAgICAvLyBjdXJyZW50bHkgb25seSBkZWxldGVzIGZyb20gRE9NXG4gICAgZXZlbnQudGFyZ2V0LmNsb3Nlc3QoJy5wb3N0JykucmVtb3ZlKCk7XG4gIH1cblxufTtcbmRlbGV0ZVBvc3QuaW5pdCgpO1xuXG4vKioqLyB9KSxcbi8qIDYgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5cblxudmFyIF90ZXN0Rm9yRWxlbWVudCA9IF9fd2VicGFja19yZXF1aXJlX18oMCk7XG5cbnZhciBfdGVzdEZvckVsZW1lbnQyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfdGVzdEZvckVsZW1lbnQpO1xuXG52YXIgX3BsYWNlaG9sZGVycyA9IF9fd2VicGFja19yZXF1aXJlX18oMik7XG5cbnZhciBfcGxhY2Vob2xkZXJzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3BsYWNlaG9sZGVycyk7XG5cbnZhciBfdmFsaWRhdGlvbiA9IF9fd2VicGFja19yZXF1aXJlX18oMyk7XG5cbnZhciBfdmFsaWRhdGlvbjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF92YWxpZGF0aW9uKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxudmFyIGF1dGggPSB7XG4gIGluaXQ6IGZ1bmN0aW9uIGluaXQoKSB7XG4gICAgdGhpcy5jYWNoZURPTSgpO1xuICAgIHRoaXMuYmluZEV2ZW50cygpO1xuICAgIF9wbGFjZWhvbGRlcnMyLmRlZmF1bHQuaW5pdCh0aGlzLnJlcXVpcmVkU2lnbkluKTtcbiAgfSxcbiAgY2FjaGVET006IGZ1bmN0aW9uIGNhY2hlRE9NKCkge1xuICAgIHRoaXMuY2xvc2VCdG4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuY2xvc2UtYnRuJyk7XG4gICAgdGhpcy5mb3JtU2lnbkluID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmZvcm0tc2lnbi1pbicpO1xuICAgIHRoaXMuZmFpbEVtYWlsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmlucHV0LWZhaWwtZW1haWwnKTtcbiAgICB2YXIgZW1haWxTaWduSW4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuZW1haWwtc2lnbi1pbicpO1xuICAgIHZhciBwYXNzU2lnbkluID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnBhc3N3b3JkLXNpZ24taW4nKTtcbiAgICB0aGlzLnJlcXVpcmVkU2lnbkluID0gW2VtYWlsU2lnbkluLCBwYXNzU2lnbkluXTtcbiAgfSxcbiAgYmluZEV2ZW50czogZnVuY3Rpb24gYmluZEV2ZW50cygpIHtcbiAgICAvLyB0ZXN0LmZvckVsZW1lbnQgZm91bmQgaW4gaGFuZGxlcnMgZm9sZGVyXG4gICAgX3Rlc3RGb3JFbGVtZW50Mi5kZWZhdWx0LmZvckVsZW1lbnQodGhpcy5mb3JtU2lnbkluLCAnY2xpY2snLCB0aGlzLmxpdmVWYWxpZGF0aW9uLmJpbmQodGhpcykpO1xuICAgIF90ZXN0Rm9yRWxlbWVudDIuZGVmYXVsdC5mb3JFbGVtZW50KHRoaXMuZm9ybVNpZ25JbiwgJ2NsaWNrJywgdGhpcy5wbGFjZWhvbGRlcnNUb2dnbGUuYmluZCh0aGlzKSk7XG4gIH0sXG4gIGxpdmVWYWxpZGF0aW9uOiBmdW5jdGlvbiBsaXZlVmFsaWRhdGlvbigpIHtcbiAgICBfdmFsaWRhdGlvbjIuZGVmYXVsdC5saXZlVmFsaWRhdGlvbih0aGlzLnJlcXVpcmVkU2lnbkluKTtcbiAgfSxcbiAgcGxhY2Vob2xkZXJzVG9nZ2xlOiBmdW5jdGlvbiBwbGFjZWhvbGRlcnNUb2dnbGUoKSB7XG4gICAgX3BsYWNlaG9sZGVyczIuZGVmYXVsdC50b2dnbGUodGhpcy5yZXF1aXJlZFNpZ25Jbik7XG4gIH1cbn07IC8qXG4gICAgIEZsdXR0ZXIgU2lnbiBpblxuICAgKi9cblxuYXV0aC5pbml0KCk7XG5cbi8qKiovIH0pLFxuLyogNyAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcblxuXG52YXIgX3Rlc3RGb3JFbGVtZW50ID0gX193ZWJwYWNrX3JlcXVpcmVfXygwKTtcblxudmFyIF90ZXN0Rm9yRWxlbWVudDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF90ZXN0Rm9yRWxlbWVudCk7XG5cbnZhciBfcGxhY2Vob2xkZXJzID0gX193ZWJwYWNrX3JlcXVpcmVfXygyKTtcblxudmFyIF9wbGFjZWhvbGRlcnMyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcGxhY2Vob2xkZXJzKTtcblxudmFyIF92YWxpZGF0aW9uID0gX193ZWJwYWNrX3JlcXVpcmVfXygzKTtcblxudmFyIF92YWxpZGF0aW9uMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3ZhbGlkYXRpb24pO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG52YXIgYXV0aCA9IHtcbiAgaW5pdDogZnVuY3Rpb24gaW5pdCgpIHtcbiAgICB0aGlzLmNhY2hlRE9NKCk7XG4gICAgdGhpcy5iaW5kRXZlbnRzKCk7XG4gICAgX3BsYWNlaG9sZGVyczIuZGVmYXVsdC5pbml0KHRoaXMucmVxdWlyZWRTaWduVXApO1xuICB9LFxuICBjYWNoZURPTTogZnVuY3Rpb24gY2FjaGVET00oKSB7XG4gICAgdGhpcy5jbG9zZUJ0biA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5jbG9zZS1idG4nKTtcbiAgICB0aGlzLmZvcm1TaWduVXAgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuZm9ybS1zaWduLXVwJyk7XG4gICAgdGhpcy5mYWlsRW1haWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuaW5wdXQtZmFpbC1lbWFpbCcpO1xuICAgIHZhciBlbWFpbFNpZ25VcCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5lbWFpbC1zaWduLXVwJyk7XG4gICAgdmFyIHBhc3NTaWduVXAgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucGFzc3dvcmQtc2lnbi11cCcpO1xuICAgIHRoaXMucmVxdWlyZWRTaWduVXAgPSBbZW1haWxTaWduVXAsIHBhc3NTaWduVXBdO1xuICB9LFxuICBiaW5kRXZlbnRzOiBmdW5jdGlvbiBiaW5kRXZlbnRzKCkge1xuICAgIC8vIHRlc3QuZm9yRWxlbWVudCBmb3VuZCBpbiBoYW5kbGVycyBmb2xkZXJcbiAgICBfdGVzdEZvckVsZW1lbnQyLmRlZmF1bHQuZm9yRWxlbWVudCh0aGlzLmZvcm1TaWduVXAsICdjbGljaycsIHRoaXMubGl2ZVZhbGlkYXRpb24uYmluZCh0aGlzKSk7XG4gICAgX3Rlc3RGb3JFbGVtZW50Mi5kZWZhdWx0LmZvckVsZW1lbnQodGhpcy5mb3JtU2lnblVwLCAnY2xpY2snLCB0aGlzLnBsYWNlaG9sZGVyc1RvZ2dsZS5iaW5kKHRoaXMpKTtcbiAgfSxcbiAgbGl2ZVZhbGlkYXRpb246IGZ1bmN0aW9uIGxpdmVWYWxpZGF0aW9uKCkge1xuICAgIF92YWxpZGF0aW9uMi5kZWZhdWx0LmxpdmVWYWxpZGF0aW9uKHRoaXMucmVxdWlyZWRTaWduVXApO1xuICB9LFxuICBwbGFjZWhvbGRlcnNUb2dnbGU6IGZ1bmN0aW9uIHBsYWNlaG9sZGVyc1RvZ2dsZSgpIHtcbiAgICBfcGxhY2Vob2xkZXJzMi5kZWZhdWx0LnRvZ2dsZSh0aGlzLnJlcXVpcmVkU2lnblVwKTtcbiAgfVxufTsgLypcbiAgICAgRmx1dHRlciBTaWduIGluXG4gICAqL1xuXG5hdXRoLmluaXQoKTtcblxuLyoqKi8gfSksXG4vKiA4ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuXG5cbnZhciBfdGVzdEZvckVsZW1lbnQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDApO1xuXG52YXIgX3Rlc3RGb3JFbGVtZW50MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3Rlc3RGb3JFbGVtZW50KTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxudmFyIHRvZ2dsZU1vZGFsID0ge1xuICBpbml0OiBmdW5jdGlvbiBpbml0KCkge1xuICAgIHRoaXMuY2FjaGVET00oKTtcbiAgICB0aGlzLmJpbmRFdmVudHMoKTtcbiAgfSxcbiAgY2FjaGVET006IGZ1bmN0aW9uIGNhY2hlRE9NKCkge1xuICAgIHRoaXMubW9kYWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcubW9kYWwnKTtcbiAgICB0aGlzLnNob3dNb2RhbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5zaG93LW1vZGFsJyk7XG4gICAgdGhpcy5jbG9zZUJ0biA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5jbG9zZS1idG4nKTtcbiAgICB0aGlzLmZhZGVJbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5mYWRlLWluJyk7XG4gIH0sXG4gIGJpbmRFdmVudHM6IGZ1bmN0aW9uIGJpbmRFdmVudHMoKSB7XG4gICAgLy8gdGVzdC5mb3JFbGVtZW50IGZvdW5kIGluIGhhbmRsZXJzIGZvbGRlclxuICAgIF90ZXN0Rm9yRWxlbWVudDIuZGVmYXVsdC5mb3JFbGVtZW50KHRoaXMuc2hvd01vZGFsLCAnY2xpY2snLCB0aGlzLmhhbmRsZVRvZ2dsZU1vZGFsLmJpbmQodGhpcykpO1xuICAgIF90ZXN0Rm9yRWxlbWVudDIuZGVmYXVsdC5mb3JFbGVtZW50KHRoaXMuY2xvc2VCdG4sICdjbGljaycsIHRoaXMuaGFuZGxlVG9nZ2xlTW9kYWwuYmluZCh0aGlzKSk7XG4gIH0sXG4gIGNvbnNvbGVMb2c6IGZ1bmN0aW9uIGNvbnNvbGVMb2coKSB7XG4gICAgY29uc29sZS5sb2coJ2hpJyk7XG4gIH0sXG4gIGhhbmRsZVRvZ2dsZU1vZGFsOiBmdW5jdGlvbiBoYW5kbGVUb2dnbGVNb2RhbCgpIHtcbiAgICBpZiAodGhpcy5tb2RhbC5jbGFzc0xpc3QuY29udGFpbnMoJ2hpZGRlbicpKSB7XG4gICAgICB0aGlzLm1vZGFsLmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpO1xuICAgICAgdGhpcy5tb2RhbC5jbGFzc0xpc3QuYWRkKCdmYWRlLWluJyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMubW9kYWwuY2xhc3NMaXN0LnJlbW92ZSgnZmFkZS1pbicpO1xuICAgICAgdGhpcy5tb2RhbC5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgICB9XG4gIH1cbn07IC8qXG4gICAgIEZsdXR0ZXIgVG9nZ2xlIE1vZGFsXG4gICAqL1xuXG50b2dnbGVNb2RhbC5pbml0KCk7XG5cbi8qKiovIH0pLFxuLyogOSAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5tb2R1bGUuZXhwb3J0cyA9IF9fd2VicGFja19yZXF1aXJlX18oNCk7XG5cblxuLyoqKi8gfSlcbi8qKioqKiovIF0pO1xuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyBidW5kbGUuanMiLCIgXHQvLyBUaGUgbW9kdWxlIGNhY2hlXG4gXHR2YXIgaW5zdGFsbGVkTW9kdWxlcyA9IHt9O1xuXG4gXHQvLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuIFx0ZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXG4gXHRcdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuIFx0XHRpZihpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSkge1xuIFx0XHRcdHJldHVybiBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXS5leHBvcnRzO1xuIFx0XHR9XG4gXHRcdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG4gXHRcdHZhciBtb2R1bGUgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSA9IHtcbiBcdFx0XHRpOiBtb2R1bGVJZCxcbiBcdFx0XHRsOiBmYWxzZSxcbiBcdFx0XHRleHBvcnRzOiB7fVxuIFx0XHR9O1xuXG4gXHRcdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuIFx0XHRtb2R1bGVzW21vZHVsZUlkXS5jYWxsKG1vZHVsZS5leHBvcnRzLCBtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuIFx0XHQvLyBGbGFnIHRoZSBtb2R1bGUgYXMgbG9hZGVkXG4gXHRcdG1vZHVsZS5sID0gdHJ1ZTtcblxuIFx0XHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuIFx0XHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG4gXHR9XG5cblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGVzIG9iamVjdCAoX193ZWJwYWNrX21vZHVsZXNfXylcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubSA9IG1vZHVsZXM7XG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlIGNhY2hlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmMgPSBpbnN0YWxsZWRNb2R1bGVzO1xuXG4gXHQvLyBpZGVudGl0eSBmdW5jdGlvbiBmb3IgY2FsbGluZyBoYXJtb255IGltcG9ydHMgd2l0aCB0aGUgY29ycmVjdCBjb250ZXh0XG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmkgPSBmdW5jdGlvbih2YWx1ZSkgeyByZXR1cm4gdmFsdWU7IH07XG5cbiBcdC8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb24gZm9yIGhhcm1vbnkgZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kID0gZnVuY3Rpb24oZXhwb3J0cywgbmFtZSwgZ2V0dGVyKSB7XG4gXHRcdGlmKCFfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cywgbmFtZSkpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgbmFtZSwge1xuIFx0XHRcdFx0Y29uZmlndXJhYmxlOiBmYWxzZSxcbiBcdFx0XHRcdGVudW1lcmFibGU6IHRydWUsXG4gXHRcdFx0XHRnZXQ6IGdldHRlclxuIFx0XHRcdH0pO1xuIFx0XHR9XG4gXHR9O1xuXG4gXHQvLyBnZXREZWZhdWx0RXhwb3J0IGZ1bmN0aW9uIGZvciBjb21wYXRpYmlsaXR5IHdpdGggbm9uLWhhcm1vbnkgbW9kdWxlc1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5uID0gZnVuY3Rpb24obW9kdWxlKSB7XG4gXHRcdHZhciBnZXR0ZXIgPSBtb2R1bGUgJiYgbW9kdWxlLl9fZXNNb2R1bGUgP1xuIFx0XHRcdGZ1bmN0aW9uIGdldERlZmF1bHQoKSB7IHJldHVybiBtb2R1bGVbJ2RlZmF1bHQnXTsgfSA6XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0TW9kdWxlRXhwb3J0cygpIHsgcmV0dXJuIG1vZHVsZTsgfTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kKGdldHRlciwgJ2EnLCBnZXR0ZXIpO1xuIFx0XHRyZXR1cm4gZ2V0dGVyO1xuIFx0fTtcblxuIFx0Ly8gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSBmdW5jdGlvbihvYmplY3QsIHByb3BlcnR5KSB7IHJldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqZWN0LCBwcm9wZXJ0eSk7IH07XG5cbiBcdC8vIF9fd2VicGFja19wdWJsaWNfcGF0aF9fXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnAgPSBcIlwiO1xuXG4gXHQvLyBMb2FkIGVudHJ5IG1vZHVsZSBhbmQgcmV0dXJuIGV4cG9ydHNcbiBcdHJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fKF9fd2VicGFja19yZXF1aXJlX18ucyA9IDkpO1xuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIHdlYnBhY2svYm9vdHN0cmFwIGMzYTA1NWY5Y2Q4YzQ5ODFiYmNmIiwiLypcbiAgRGVsZXRlIHBvc3RcbiovXG5cbnZhciB0ZXN0ID0gbW9kdWxlLmV4cG9ydHMgPSB7XG4gIC8vIHRlc3QuZm9yRWxlbWVudCBjcmVhdGVkIHRvIGF2b2lkIGVycm9ycyBpZiB0aGUgZWxlbWVudCBpcyBub3QgcHJlc2VudCBpbiB0aGUgRE9NXG4gIGZvckVsZW1lbnQ6IGZ1bmN0aW9uIChlbCwgZXZlbnRUeXBlLCBtZXRob2QpIHtcbiAgICBpZiAoZWwpIHtcbiAgICAgIGVsLmFkZEV2ZW50TGlzdGVuZXIoZXZlbnRUeXBlLCBtZXRob2QpO1xuICAgIH1cbiAgfVxufVxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vanMvaGFuZGxlcnMvdGVzdC1mb3ItZWxlbWVudC5qcyIsIi8qXG4gIEZvcm0gZGF0YVxuKi9cblxudmFyIGZvcm1EYXRhID0gbW9kdWxlLmV4cG9ydHMgPSB7XG4gIGRhdGE6IFtcbiAgICB7XG4gICAgICBwbGFjZWhvbGRlcjogJ2VtYWlsJyxcbiAgICAgIHJlZ2V4OiAnXlthLXpBLVowLTkuISMkJSZcXCcqKy89P15fYHt8fX4tXStAW2EtekEtWjAtOV0oPzpbYS16QS1aMC05LV17MCw2MX1bYS16QS1aMC05XSk/KD86XFwuW2EtekEtWjAtOV0oPzpbYS16QS1aMC05LV17MCw2MX1bYS16QS1aMC05XSk/KSokJyxcbiAgICAgIGVycm9yOiAnTXVzdCBiZSBhIHZhbGlkIGVtYWlsJ1xuICAgIH0sXG4gICAge1xuICAgICAgcGxhY2Vob2xkZXI6ICdwYXNzd29yZCcsXG4gICAgICByZWdleDogJ14oPz0uKlthLXpdKSg/PS4qW0EtWl0pKD89LipbMC05XSkuKiQnLFxuICAgICAgZXJyb3I6ICdNdXN0IGhhdmUgdXBwZXIsIGxvd2VyIGNhc2UgJiBudW1iZXInXG4gICAgfVxuICBdLFxufVxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vanMvZm9ybS1kYXRhLmpzIiwiLypcbiAgU2V0IGluaXRpYWwgcGxhY2Vob2xkZXJzIGZvciBpbnB1dHNcbiovXG5cbmltcG9ydCBmb3JtRGF0YSBmcm9tICcuLi9mb3JtLWRhdGEnO1xuXG52YXIgcGxhY2Vob2xkZXJzID0gbW9kdWxlLmV4cG9ydHMgPSB7XG4gIC8vIHNldCBpbml0aWFsIGlucHV0IHBsYWNlaG9sZGVyIHZhbHVlc1xuICBpbml0OiBmdW5jdGlvbiAocmVxdWlyZWRJbnB1dHMpIHtcbiAgICByZXF1aXJlZElucHV0cy5tYXAoZnVuY3Rpb24gKGlucHV0LCBpbmRleCkge1xuICAgICAgaWYgKGlucHV0KSB7XG4gICAgICAgIGlucHV0LnBsYWNlaG9sZGVyID0gZm9ybURhdGEuZGF0YVtpbmRleF0ucGxhY2Vob2xkZXI7XG4gICAgICB9XG4gICAgfSwgdGhpcyk7XG4gIH0sXG4gIHRvZ2dsZTogZnVuY3Rpb24gKHJlcXVpcmVkSW5wdXRzKSB7XG4gICAgcmVxdWlyZWRJbnB1dHMubWFwKGZ1bmN0aW9uIChpbnB1dCwgaW5kZXgpIHtcbiAgICAgIHZhciB2YWxpZGF0aW9uTWVzc2FnZSA9IGlucHV0Lm5leHRTaWJsaW5nO1xuICAgICAgaWYgKGV2ZW50LnRhcmdldCAhPSBpbnB1dCkge1xuICAgICAgICBpbnB1dC5wbGFjZWhvbGRlciA9IGZvcm1EYXRhLmRhdGFbaW5kZXhdLnBsYWNlaG9sZGVyO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gdG9nZ2xlIGlucHV0IHBsYWNlaG9sZGVyIHZhbHVlIHRvIGJsYW5rIG9ubHkgd2hlbiB1c2VyIHNlbGVjdHMgaW5wdXRcbiAgICAgICAgaW5wdXQucGxhY2Vob2xkZXIgPSAnJztcbiAgICAgIH1cbiAgICB9LCB0aGlzKTtcbiAgfVxufVxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vanMvaGFuZGxlcnMvcGxhY2Vob2xkZXJzLmpzIiwiLypcbiAgSGFuZGxlcnMgdXNlZCBpbiBtdWx0aXBsZSBvYmplY3RzXG4qL1xuXG4vLyBmb3JtRGF0YSB1c2VkIHRvIG1hdGNoIHVzZXIgaW5wdXQgZm9yIHZhbGlkYXRpb25cbmltcG9ydCBmb3JtRGF0YSBmcm9tICcuLi9mb3JtLWRhdGEnO1xuXG52YXIgdmFsaWRhdGlvbiA9IG1vZHVsZS5leHBvcnRzID0ge1xuICBsaXZlVmFsaWRhdGlvbjogZnVuY3Rpb24gKHJlcXVpcmVkSW5wdXRzKSB7XG4gICAgcmVxdWlyZWRJbnB1dHMubWFwKGZ1bmN0aW9uIChpbnB1dCwgaW5kZXgpIHtcbiAgICAgIHZhciB2YWxpZGF0aW9uTWVzc2FnZSA9IGlucHV0Lm5leHRTaWJsaW5nO1xuICAgICAgaWYgKGlucHV0LnZhbHVlID09PSAnJykge1xuICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9IGVsc2UgaWYgKGlucHV0LnZhbHVlLm1hdGNoKGZvcm1EYXRhLmRhdGFbaW5kZXhdLnJlZ2V4KSkge1xuICAgICAgICBpbnB1dC5wYXJlbnROb2RlLmNsYXNzTGlzdC5hZGQoJ2ZsZXgnKTtcbiAgICAgICAgdGhpcy5mYWlsRW1haWwgPyB2YWxpZGF0aW9uTWVzc2FnZS50ZXh0Q29udGVudCA9ICcnIDogdmFsaWRhdGlvbk1lc3NhZ2UudGV4dENvbnRlbnQgPSAn4oiaJztcbiAgICAgICAgdmFsaWRhdGlvbk1lc3NhZ2UuY2xhc3NMaXN0LnJlbW92ZSgnaW5wdXQtZmFpbCcpO1xuICAgICAgICB2YWxpZGF0aW9uTWVzc2FnZS5jbGFzc0xpc3QuYWRkKCdpbnB1dC1zdWNjZXNzJyk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICBpbnB1dC5wYXJlbnROb2RlLmNsYXNzTGlzdC5yZW1vdmUoJ2ZsZXgnKTtcbiAgICAgICAgdmFsaWRhdGlvbk1lc3NhZ2UudGV4dENvbnRlbnQgPSBmb3JtRGF0YS5kYXRhW2luZGV4XS5lcnJvcjtcbiAgICAgICAgdmFsaWRhdGlvbk1lc3NhZ2UuY2xhc3NMaXN0LnJlbW92ZSgnaW5wdXQtc3VjY2VzcycpO1xuICAgICAgICB2YWxpZGF0aW9uTWVzc2FnZS5jbGFzc0xpc3QuYWRkKCdpbnB1dC1mYWlsJyk7XG4gICAgICB9XG4gICAgfSwgdGhpcyk7XG4gIH1cbn1cblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL2pzL2hhbmRsZXJzL3ZhbGlkYXRpb24uanMiLCIvKlxuICBXZWJwYWNrIGVudHJ5IHBvaW50XG4qL1xuXG5pbXBvcnQgJy4vZGVsZXRlLXBvc3QnO1xuaW1wb3J0ICcuL3NpZ24taW4uanMnO1xuaW1wb3J0ICcuL3NpZ24tdXAuanMnO1xuaW1wb3J0ICcuL3RvZ2dsZS1tb2RhbCc7XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9qcy9pbmRleC5qcyIsIi8qXG4gIERlbGV0ZSBwb3N0XG4qL1xuXG52YXIgZGVsZXRlUG9zdCA9IHtcbiAgaW5pdDogZnVuY3Rpb24gKCkge1xuICAgIHRoaXMuY2FjaGVET00oKTtcbiAgICB0aGlzLmJpbmRFdmVudHMoKTtcbiAgfSxcbiAgY2FjaGVET006IGZ1bmN0aW9uICgpIHtcbiAgICB0aGlzLmRlbGV0ZUZsdXR0ZXJQb3N0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmRlbGV0ZS1mbHV0dGVyJyk7XG4gIH0sXG4gIGJpbmRFdmVudHM6IGZ1bmN0aW9uICgpIHtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMuZGVsZXRlRmx1dHRlclBvc3QubGVuZ3RoOyBpKyspIHtcbiAgICAgIHRoaXMuZGVsZXRlRmx1dHRlclBvc3RbaV0uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLmRlbGV0ZVBvc3QuYmluZCh0aGlzKSk7XG4gICAgfVxuICB9LFxuICBkZWxldGVQb3N0OiBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAvLyBjdXJyZW50bHkgb25seSBkZWxldGVzIGZyb20gRE9NXG4gICAgZXZlbnQudGFyZ2V0LmNsb3Nlc3QoJy5wb3N0JykucmVtb3ZlKCk7XG4gIH0sXG5cbn1cbmRlbGV0ZVBvc3QuaW5pdCgpO1xuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vanMvZGVsZXRlLXBvc3QuanMiLCIvKlxuICBGbHV0dGVyIFNpZ24gaW5cbiovXG5cbmltcG9ydCB0ZXN0IGZyb20gJy4vaGFuZGxlcnMvdGVzdC1mb3ItZWxlbWVudCc7XG5pbXBvcnQgcGxhY2Vob2xkZXJzIGZyb20gJy4vaGFuZGxlcnMvcGxhY2Vob2xkZXJzJztcbmltcG9ydCB2YWxpZGF0aW9uIGZyb20gJy4vaGFuZGxlcnMvdmFsaWRhdGlvbic7XG5cbnZhciBhdXRoID0ge1xuICBpbml0OiBmdW5jdGlvbiAoKSB7XG4gICAgdGhpcy5jYWNoZURPTSgpO1xuICAgIHRoaXMuYmluZEV2ZW50cygpO1xuICAgIHBsYWNlaG9sZGVycy5pbml0KHRoaXMucmVxdWlyZWRTaWduSW4pO1xuICB9LFxuICBjYWNoZURPTTogZnVuY3Rpb24gKCkge1xuICAgIHRoaXMuY2xvc2VCdG4gICA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5jbG9zZS1idG4nKTtcbiAgICB0aGlzLmZvcm1TaWduSW4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuZm9ybS1zaWduLWluJyk7XG4gICAgdGhpcy5mYWlsRW1haWwgID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmlucHV0LWZhaWwtZW1haWwnKTtcbiAgICB2YXIgZW1haWxTaWduSW4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuZW1haWwtc2lnbi1pbicpO1xuICAgIHZhciBwYXNzU2lnbkluICA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wYXNzd29yZC1zaWduLWluJyk7XG4gICAgdGhpcy5yZXF1aXJlZFNpZ25JbiA9IFtcbiAgICAgIGVtYWlsU2lnbkluLFxuICAgICAgcGFzc1NpZ25JblxuICAgIF07XG4gIH0sXG4gIGJpbmRFdmVudHM6IGZ1bmN0aW9uICgpIHtcbiAgICAvLyB0ZXN0LmZvckVsZW1lbnQgZm91bmQgaW4gaGFuZGxlcnMgZm9sZGVyXG4gICAgdGVzdC5mb3JFbGVtZW50KHRoaXMuZm9ybVNpZ25JbiAsICdjbGljaycsIHRoaXMubGl2ZVZhbGlkYXRpb24uYmluZCh0aGlzKSk7XG4gICAgdGVzdC5mb3JFbGVtZW50KHRoaXMuZm9ybVNpZ25JbiwgJ2NsaWNrJywgdGhpcy5wbGFjZWhvbGRlcnNUb2dnbGUuYmluZCh0aGlzKSk7XG4gIH0sXG4gIGxpdmVWYWxpZGF0aW9uOiBmdW5jdGlvbiAoKSB7XG4gICAgdmFsaWRhdGlvbi5saXZlVmFsaWRhdGlvbih0aGlzLnJlcXVpcmVkU2lnbkluKTtcbiAgfSxcbiAgcGxhY2Vob2xkZXJzVG9nZ2xlOiBmdW5jdGlvbiAoKSB7XG4gICAgcGxhY2Vob2xkZXJzLnRvZ2dsZSh0aGlzLnJlcXVpcmVkU2lnbkluKTtcbiAgfVxufVxuYXV0aC5pbml0KCk7XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9qcy9zaWduLWluLmpzIiwiLypcbiAgRmx1dHRlciBTaWduIGluXG4qL1xuXG5pbXBvcnQgdGVzdCBmcm9tICcuL2hhbmRsZXJzL3Rlc3QtZm9yLWVsZW1lbnQnO1xuaW1wb3J0IHBsYWNlaG9sZGVycyBmcm9tICcuL2hhbmRsZXJzL3BsYWNlaG9sZGVycyc7XG5pbXBvcnQgdmFsaWRhdGlvbiBmcm9tICcuL2hhbmRsZXJzL3ZhbGlkYXRpb24nO1xuXG52YXIgYXV0aCA9IHtcbiAgaW5pdDogZnVuY3Rpb24gKCkge1xuICAgIHRoaXMuY2FjaGVET00oKTtcbiAgICB0aGlzLmJpbmRFdmVudHMoKTtcbiAgICBwbGFjZWhvbGRlcnMuaW5pdCh0aGlzLnJlcXVpcmVkU2lnblVwKTtcbiAgfSxcbiAgY2FjaGVET006IGZ1bmN0aW9uICgpIHtcbiAgICB0aGlzLmNsb3NlQnRuICAgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuY2xvc2UtYnRuJyk7XG4gICAgdGhpcy5mb3JtU2lnblVwID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmZvcm0tc2lnbi11cCcpO1xuICAgIHRoaXMuZmFpbEVtYWlsICA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5pbnB1dC1mYWlsLWVtYWlsJyk7XG4gICAgdmFyIGVtYWlsU2lnblVwID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmVtYWlsLXNpZ24tdXAnKTtcbiAgICB2YXIgcGFzc1NpZ25VcCAgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucGFzc3dvcmQtc2lnbi11cCcpO1xuICAgIHRoaXMucmVxdWlyZWRTaWduVXAgPSBbXG4gICAgICBlbWFpbFNpZ25VcCxcbiAgICAgIHBhc3NTaWduVXBcbiAgICBdO1xuICB9LFxuICBiaW5kRXZlbnRzOiBmdW5jdGlvbiAoKSB7XG4gICAgLy8gdGVzdC5mb3JFbGVtZW50IGZvdW5kIGluIGhhbmRsZXJzIGZvbGRlclxuICAgIHRlc3QuZm9yRWxlbWVudCh0aGlzLmZvcm1TaWduVXAgLCAnY2xpY2snLCB0aGlzLmxpdmVWYWxpZGF0aW9uLmJpbmQodGhpcykpO1xuICAgIHRlc3QuZm9yRWxlbWVudCh0aGlzLmZvcm1TaWduVXAsICdjbGljaycsIHRoaXMucGxhY2Vob2xkZXJzVG9nZ2xlLmJpbmQodGhpcykpO1xuICB9LFxuICBsaXZlVmFsaWRhdGlvbjogZnVuY3Rpb24gKCkge1xuICAgIHZhbGlkYXRpb24ubGl2ZVZhbGlkYXRpb24odGhpcy5yZXF1aXJlZFNpZ25VcCk7XG4gIH0sXG4gIHBsYWNlaG9sZGVyc1RvZ2dsZTogZnVuY3Rpb24gKCkge1xuICAgIHBsYWNlaG9sZGVycy50b2dnbGUodGhpcy5yZXF1aXJlZFNpZ25VcCk7XG4gIH1cbn1cbmF1dGguaW5pdCgpO1xuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vanMvc2lnbi11cC5qcyIsIi8qXG4gIEZsdXR0ZXIgVG9nZ2xlIE1vZGFsXG4qL1xuXG5pbXBvcnQgdGVzdCBmcm9tICcuL2hhbmRsZXJzL3Rlc3QtZm9yLWVsZW1lbnQuanMnO1xuXG52YXIgdG9nZ2xlTW9kYWwgPSB7XG4gIGluaXQ6IGZ1bmN0aW9uICgpIHtcbiAgICB0aGlzLmNhY2hlRE9NKCk7XG4gICAgdGhpcy5iaW5kRXZlbnRzKCk7XG4gIH0sXG4gIGNhY2hlRE9NOiBmdW5jdGlvbiAoKSB7XG4gICAgdGhpcy5tb2RhbCAgICAgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcubW9kYWwnKTtcbiAgICB0aGlzLnNob3dNb2RhbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5zaG93LW1vZGFsJyk7XG4gICAgdGhpcy5jbG9zZUJ0biAgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuY2xvc2UtYnRuJyk7XG4gICAgdGhpcy5mYWRlSW4gICAgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuZmFkZS1pbicpO1xuICB9LFxuICBiaW5kRXZlbnRzOiBmdW5jdGlvbiAoKSB7XG4gICAgLy8gdGVzdC5mb3JFbGVtZW50IGZvdW5kIGluIGhhbmRsZXJzIGZvbGRlclxuICAgIHRlc3QuZm9yRWxlbWVudCh0aGlzLnNob3dNb2RhbCwgJ2NsaWNrJywgdGhpcy5oYW5kbGVUb2dnbGVNb2RhbC5iaW5kKHRoaXMpKTtcbiAgICB0ZXN0LmZvckVsZW1lbnQodGhpcy5jbG9zZUJ0biwgJ2NsaWNrJywgdGhpcy5oYW5kbGVUb2dnbGVNb2RhbC5iaW5kKHRoaXMpKTtcbiAgfSxcbiAgY29uc29sZUxvZzogZnVuY3Rpb24gKCkge1xuICAgIGNvbnNvbGUubG9nKCdoaScpO1xuICB9LFxuICBoYW5kbGVUb2dnbGVNb2RhbDogZnVuY3Rpb24gKCkge1xuICAgIGlmICh0aGlzLm1vZGFsLmNsYXNzTGlzdC5jb250YWlucygnaGlkZGVuJykpIHtcbiAgICAgIHRoaXMubW9kYWwuY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJyk7XG4gICAgICB0aGlzLm1vZGFsLmNsYXNzTGlzdC5hZGQoJ2ZhZGUtaW4nKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5tb2RhbC5jbGFzc0xpc3QucmVtb3ZlKCdmYWRlLWluJyk7XG4gICAgICB0aGlzLm1vZGFsLmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xuICAgIH1cbiAgfVxufVxudG9nZ2xlTW9kYWwuaW5pdCgpO1xuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vanMvdG9nZ2xlLW1vZGFsLmpzIl0sInNvdXJjZVJvb3QiOiIifQ==